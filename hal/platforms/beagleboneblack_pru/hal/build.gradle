apply plugin: 'cpp'

model{
	repositories {
		libs(PrebuiltLibraries) {
			jdk {
				headers.srcDirs "${System.properties['java.home']}/../include",
					"${System.properties['java.home']}/../include/win32",
					"${System.properties['java.home']}/../include/darwin",
					"${System.properties['java.home']}/../include/linux"
			}
		}
	}
	components {
        flashlib_hal(NativeLibrarySpec) {
			sources {
				cpp {
					source {
						srcDirs = ["src", "../../../shared/src"]
						include "**/*.*"
						lib library: 'jdk', linkage: 'api'
					}
					exportedHeaders {
						srcDir "../../../shared/include"
					}
				}
			}
			binaries.all {
				cppCompiler.args "-std=c++11"
			}
		}
    }
}
