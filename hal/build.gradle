subprojects {
    apply plugin: 'cpp'
	
	model{
		repositories {
			libs(PrebuiltLibraries) {
				jdk {
					headers.srcDirs "${System.properties['java.home']}/../include",
						"${System.properties['java.home']}/../include/win32",
						"${System.properties['java.home']}/../include/darwin",
						"${System.properties['java.home']}/../include/linux"
				}
			}
		}
		components {
			flashlib_hal(NativeLibrarySpec) {
				sources {
					cpp {
						source {
							srcDirs = ["src", "${rootProject.projectDir}/shared/src"]
							include "**/*.*"
							lib library: 'jdk', linkage: 'api'
						}
						exportedHeaders {
							srcDir "${rootProject.projectDir}/shared/include"
						}
					}
				}
				binaries.all {
					cppCompiler.args "-std=c++11"
				}
			}
		}
	}
}

project(':platforms/beagleboneblack'){
	buildDir = halOutputFolder + 'beagleboneblack/'
}